{% from "bootstrap.html" import css, custom_css %}

<!DOCTYPE html>
<html lang="en">
  <body>
    <div class="container">
      <div class="card">
        <div class="card-block">
          <table class="table table-bordered" aria-describedby="Case table">
            <thead>
            </thead>
            <tbody>
                <tr>
                  <td>
                    {%  if sample.metadata.gender != 'N/A'%}
                      (analys:
                      {% if sample.gender != sample.metadata.gender %}
                        <span class="text-danger">{{ sample.metadata.gender }}</span>)
                      {% else %}
                        <span class="text-success">{{ sample.metadata.gender }}</span>)
                      {% endif %}
                    {% endif %}
                  </td>
            </tbody>
          </table>
        </div>

        <div class="card-block">
          <table class="table table-bordered" aria-describedby="Case table">
            <thead>
              <tr>
                <!-- <th>Genpaneler</th> -->
              </tr>
            </thead>
            <tbody>
              <tr>
                <!-- <td>{{ case.data_analysis.panels }}</td> -->
              </tr>
            </tbody>
          </table>
        </div>

        <div class="card-block">
          <table class="table table-bordered" aria-describedby="Case table">
            <thead>
              <tr>
                <th>Prov</th>
                <th>Läspar [M]</th>
                <th>Mappade sekvenser [%]</th>
                <th>Medelsekvensdjup</th>
                <th>Täckningsgrad 10x [%]</th>
                <th>Duplikat [%]</th>
              </tr>
            </thead>
            <tbody>
              {% for sample in case.samples %}
                <tr>
                  <td>{{ sample.name }}*</td>
                  <td>{{ sample.metadata.million_read_pairs }}</td>
                  <td>{{ sample.metadata.mapped_reads }}</td>
                  <td>{{ sample.metadata.mean_target_coverage }}</td>
                  <td>{{ sample.metadata.pct_10x }}</td>
                  <td>{{ sample.metadata.duplicates }}</td>
                </tr>
              {% endfor %}
            </tbody>
            <caption>
              Resultat baserade på valda genpaneler: {{ case.data_analysis.panels }}.<br>
              <br>
              <strong>Förklaringar</strong><br>
              <ins>Läspar</ins>: Antal sekvenseringsläsningar i miljoner läspar.<br>
              <ins>Mappade sekvenser</ins>: Procent sekvenser som matchar en eller flera positioner i referensgenomet.<br>
              <ins>Medelsekvensdjup</ins>: Medelvärdet av täckningsgraden i baser över en genomisk region.<br>
              <ins>Täckningsgrad</ins>: Andel baser som är sekvenserade med ett djup över en specificerad gräns, t.ex. 100X.<br>
              <ins>Duplikat</ins>: Sekvenseringsläsningar som är duplikat (kopior) och därmed ej unika sekvenser. Hög mängd duplikat kan tyda på dålig komplexitet av sekvenserat bibliotek eller djup sekvensering.<br>
              <br>
              Värdena presenterade för <ins>Täckningsgrad</ins> är efter borttagning av duplikata läsningar.
            </caption>
          </table>
        </div>
      </div>
    </div>
  </body>
</html>
